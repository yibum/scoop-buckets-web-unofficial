{% extends "base.html" %}

{% block content %}
{% set main_apps = load_data(url="https://api.github.com/repos/ScoopInstaller/Main/contents/bucket", format="json") %}
{% set extra_apps = load_data(url="https://api.github.com/repos/ScoopInstaller/Extras/contents/bucket", format="json") %}
<h1 class="has-text-centered has-text-weight-bold is-family-primary is-size-2">
  Scoop Buckets Search
</h1>
<p class="has-text-centered is-size-5">
  Is that app in 
  <a href="https://scoop.sh/" target="_blank" rel="noopener noreferrer">
    Scoop
  </a>
  buckets? <br />A simple web tool to <strike>search</strike> filter out
  apps in Scoop buckets.
</p>
<div class="container" style="margin-top: 1rem; max-width: 480px">
  <div class="columns">
    <div class="column has-text-centered">
      <a href="https://github.com/ScoopInstaller/Main">
        <span class="icon">
          <i class="fab fa-github"></i>
        </span>
        Main Bucket
      </a>
      <span class="tag is-primary is-rounded has-text-weight-bold span-space-horizontal-around">
        <span class="is-size-6">{{ main_apps | length }}</span>
      </span>
    </div>
    <div class="column has-text-centered">
      <a href="https://github.com/ScoopInstaller/Extras">
        <span class="icon">
          <i class="fab fa-github"></i>
        </span>
        Extra Bucket
      </a>
      <span class="tag is-info is-rounded has-text-weight-bold span-space-horizontal-around">
        <span class="is-size-6">{{ extra_apps | length }}</span>
      </span>
    </div>
  </div>
  <div class="has-text-centered">
    {% set current_datetime = now() %}
    <strong>Last updated at:</strong>
    {{ current_datetime | date(format="%b %d, %Y, %H:%M") }} | <span id="time-ago-span" time="{{ current_datetime }}"></span>
  </div>
  <div class="has-text-centered" style="margin-top: 2rem">
    <div id="search-box">
      <!-- SearchBox widget will appear here -->
    </div>
    <div id="refinement-list">
      <!-- RefinementList widget will appear here -->
    </div>
    <div id="hits">
      <!-- Hits widget will appear here -->
    </div>
    <div id="pagination" style="margin-top: 0.5rem; display: none;">
      <!-- Pagination widget will appear here -->
    </div>
    <div id="hits-per-page-selector" style="margin-top: 0.5rem; visibility: hidden;"></div>
  </div>
</div>
{% endblock content %}
